(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();const k=document.querySelector("#sorting-btn"),q=document.querySelector("#categories-btn"),M=document.querySelector("#add-btn"),l=document.querySelector(".sort-container"),c=document.querySelector(".categories-container"),r=document.querySelector(".add-item-container"),m=document.querySelector("#title-input"),g=document.querySelector("#category-input"),b=document.querySelector("#date-input"),u=document.querySelector("#add-item-btn");let $=!1,w=!1,L=!1;const F=document.querySelector("#sort-name-btn"),R=document.querySelector("#sort-deadline-btn"),Y=document.querySelector("#sort-date-added-btn");let a="deadline",E="all categories",d=[],S=[];const O=document.querySelector("#todo-items-container");function N(n){const s=n.currentTarget.id;s==="sorting-btn"?(l==null||l.classList.toggle("open"),r!=null&&r.classList.contains("open")&&(r==null||r.classList.remove("open")),c!=null&&c.classList.contains("open")&&(c==null||c.classList.remove("open"))):s==="add-btn"?(r==null||r.classList.toggle("open"),l!=null&&l.classList.contains("open")&&(l==null||l.classList.remove("open")),c!=null&&c.classList.contains("open")&&(c==null||c.classList.remove("open"))):s==="categories-btn"&&(c==null||c.classList.toggle("open"),l!=null&&l.classList.contains("open")&&(l==null||l.classList.remove("open")),r!=null&&r.classList.contains("open")&&(r==null||r.classList.remove("open")))}function H(n){const e=n.currentTarget,s=e.value,t=e.parentElement.querySelector(".input-error");if(e.id==="date-input"){const o=new Date,f=o.getFullYear(),D=o.getMonth()+1,T=o.getDate(),v=s.split("-"),p=Number(v[0]),h=Number(v[1]),A=Number(v[2]);p>f&&p.toString().length===4||p===f&&h>D||p===f&&h===D&&A>=T?(L=!0,t.innerHTML=""):s?(L=!1,t.innerHTML="cannot be in the Past"):(L=!1,t.innerHTML="is Required")}e.id==="title-input"&&(s?($=!0,t.innerHTML=""):($=!1,t.innerHTML="is Required")),e.id==="category-input"&&(s?(w=!0,t.innerHTML=""):(w=!1,t.innerHTML="is Required")),$&&w&&L?u==null||u.removeAttribute("disabled"):u==null||u.setAttribute("disabled","true")}function I(n){const s=n.currentTarget.id;s==="sort-name-btn"&&(a==="name"?a="nameReversed":a="name"),s==="sort-deadline-btn"&&(a==="deadline"?a="deadlineReversed":a="deadline"),s==="sort-date-added-btn"&&(a==="dateAdded"?a="dateAddedReversed":a="dateAdded"),y(),l==null||l.classList.remove("open")}function _(){a==="name"&&d.sort((n,e)=>n.title<e.title?-1:1),a==="nameReversed"&&d.sort((n,e)=>e.title<n.title?-1:1),a==="deadline"&&d.sort((n,e)=>{const s=new Date(n.deadline),i=new Date(e.deadline);return s.valueOf()-i.valueOf()}),a==="deadlineReversed"&&d.sort((n,e)=>{const s=new Date(n.deadline);return new Date(e.deadline).valueOf()-s.valueOf()}),a==="dateAdded"&&d.sort((n,e)=>{const s=new Date(n.dateAddedToList),i=new Date(e.dateAddedToList);return s.valueOf()-i.valueOf()}),a==="dateAddedReversed"&&d.sort((n,e)=>{const s=new Date(n.dateAddedToList);return new Date(e.dateAddedToList).valueOf()-s.valueOf()})}function V(n){const e=[],s=new Date(n.deadline),i=new Date(n.dateAddedToList),t=s.getTime(),o=new Date().getTime(),f=t-o,D=Math.ceil(f/(1e3*60*60*24));e.push(String(D));const T=`0${s.getMonth()+1}`.slice(-2),v=`0${s.getDate()}`.slice(-2),p=`${s.getFullYear()}-${T}-${v}`;e.push(p);const h=`0${i.getMonth()+1}`.slice(-2),A=`0${s.getDate()}`.slice(-2),B=`${i.getFullYear()}-${h}-${A}`;return e.push(B),e}function P(n){const e=Number(n);return e<=5&&e>0?" close-deadline":e<=0?" after-deadline":""}function J(n){const e=Number(n);return e===1||e===-1?`${e} day`:`${e} days`}function x(){const n=[],e=c.querySelector("ul"),s=document.querySelector("#browse");e.innerHTML='<li>> <button class="category-btn">all categories</button> <</li>',s.innerHTML="";for(let t=0;t<d.length;t++){const o=d[t];n.push(o.category)}n.sort((t,o)=>t<o?-1:1);const i=[...new Set(n)];for(let t=0;t<i.length;t++){const o=i[t];e.innerHTML+=`<li>> <button class="category-btn">${o}</button> <</li>`,s.innerHTML+=`<option value="${o}">`}}function K(n){E=n.currentTarget.innerText,y(),c==null||c.classList.remove("open")}function j(){if(E==="all categories"){S=d;return}S=d.filter(n=>n.category===E)}function y(){O.innerHTML="",_(),j();for(let n=0;n<S.length;n++){const e=S[n],s=U(e),i=V(e),t=P(i[0]),o=J(i[0]);O.innerHTML+=`
    <article id="${n}" class="todo-item${s}${t}">

      <button>
        <span id="${n}" class="material-symbols-outlined check-item-btn">task_alt</span>
      </button>

      <p>${e.title}</p>

      <p class="deadline-date">Deadline: ${i[1]}</p>
      <p class="date-added-date">Date added: ${i[2]}</p>

      <div class="time-left">
        <span class="material-symbols-outlined">hourglass_empty</span>
        <span>${o}</span>
      </div>

      <button>
        <span id="${n}" class="material-symbols-outlined remove-item-btn">do_not_disturb_on</span>
      </button>
    
    </article>
    `}x(),W(),C()}function z(n){const e=n.currentTarget,s=document.querySelector(".todo-item.open");if(s!==null){if(e.id===s.id){e.classList.toggle("open");return}s.classList.remove("open"),e.classList.add("open")}e.classList.add("open")}function G(n){const e=n.currentTarget,s=Number(e.id);d.splice(s,1),y()}function Q(n){const e=n.currentTarget,s=Number(e.id),i=d[s];i.isChecked?i.isChecked=!1:i.isChecked=!0,y()}function U(n){return n.isChecked?" checked":""}function W(){const n=document.querySelectorAll(".todo-item"),e=document.querySelectorAll(".remove-item-btn"),s=document.querySelectorAll(".check-item-btn"),i=document.querySelectorAll(".category-btn");for(let t=0;t<n.length;t++)n[t].addEventListener("click",z);for(let t=0;t<e.length;t++)e[t].addEventListener("click",G);for(let t=0;t<s.length;t++)s[t].addEventListener("click",Q);for(let t=0;t<i.length;t++)i[t].addEventListener("click",K)}function X(){r==null||r.classList.remove("open"),u==null||u.setAttribute("disabled","true"),m.value="",g.value="",b.value=""}function Z(){const n=m==null?void 0:m.value,e=g==null?void 0:g.value,s=new Date(b.value),i=new Date,t={title:n,category:e,deadline:s,dateAddedToList:i,isChecked:!1};d.push(t),X(),y()}function C(){localStorage.setItem("data",JSON.stringify(d))}function ee(){localStorage.getItem("data")!==null&&(d=JSON.parse(localStorage.getItem("data")))}k==null||k.addEventListener("click",N);q==null||q.addEventListener("click",N);M==null||M.addEventListener("click",N);m==null||m.addEventListener("blur",H);g==null||g.addEventListener("blur",H);b==null||b.addEventListener("change",H);u==null||u.addEventListener("click",Z);F.addEventListener("click",I);R.addEventListener("click",I);Y.addEventListener("click",I);ee();y();
