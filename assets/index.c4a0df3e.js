(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const S=document.querySelector("#sorting-btn"),T=document.querySelector("#categories-btn"),A=document.querySelector("#add-btn"),c=document.querySelector(".sort-container"),r=document.querySelector(".categories-container"),l=document.querySelector(".add-item-container"),m=document.querySelector("#title-input"),p=document.querySelector("#category-input"),v=document.querySelector("#date-input"),u=document.querySelector("#add-item-btn");let k=!1,q=!1,L=!1;const H=document.querySelector("#sort-name-btn"),O=document.querySelector("#sort-deadline-btn"),B=document.querySelector("#sort-date-added-btn");let a="deadline",d=[];const I=document.querySelector("#todo-items-container");function M(t){const n=t.currentTarget.id;n==="sorting-btn"?(c==null||c.classList.toggle("open"),l!=null&&l.classList.contains("open")&&(l==null||l.classList.remove("open")),r!=null&&r.classList.contains("open")&&(r==null||r.classList.remove("open"))):n==="add-btn"?(l==null||l.classList.toggle("open"),c!=null&&c.classList.contains("open")&&(c==null||c.classList.remove("open")),r!=null&&r.classList.contains("open")&&(r==null||r.classList.remove("open"))):n==="categories-btn"&&(r==null||r.classList.toggle("open"),c!=null&&c.classList.contains("open")&&(c==null||c.classList.remove("open")),l!=null&&l.classList.contains("open")&&(l==null||l.classList.remove("open")))}function w(t){const e=t.currentTarget,n=e.value,s=e.parentElement.querySelector(".input-error");if(e.id==="date-input"){const i=new Date,f=i.getFullYear(),b=i.getMonth()+1,h=i.getDate(),g=n.split("-"),D=Number(g[0]),E=Number(g[1]),N=Number(g[2]);D>f&&D.toString().length===4||D===f&&E>b||D===f&&E===b&&N>=h?(L=!0,s.innerHTML=""):n?(L=!1,s.innerHTML="cannot be in the Past"):(L=!1,s.innerHTML="is Required")}e.id==="title-input"&&(n?(k=!0,s.innerHTML=""):(k=!1,s.innerHTML="is Required")),e.id==="category-input"&&(n?(q=!0,s.innerHTML=""):(q=!1,s.innerHTML="is Required")),k&&q&&L?u==null||u.removeAttribute("disabled"):u==null||u.setAttribute("disabled","true")}function $(t){const n=t.currentTarget.id;n==="sort-name-btn"&&(a==="name"?a="nameReversed":a="name"),n==="sort-deadline-btn"&&(a==="deadline"?a="deadlineReversed":a="deadline"),n==="sort-date-added-btn"&&(a==="dateAdded"?a="dateAddedReversed":a="dateAdded"),y(),c==null||c.classList.remove("open")}function R(){a==="name"&&d.sort((t,e)=>t.title<e.title?-1:1),a==="nameReversed"&&d.sort((t,e)=>t.title>e.title?-1:1),a==="deadline"&&d.sort((t,e)=>{const n=new Date(t.deadline),o=new Date(e.deadline);return n.valueOf()-o.valueOf()}),a==="deadlineReversed"&&d.sort((t,e)=>{const n=new Date(t.deadline);return new Date(e.deadline).valueOf()-n.valueOf()}),a==="dateAdded"&&d.sort((t,e)=>{const n=new Date(t.dateAddedToList),o=new Date(e.dateAddedToList);return n.valueOf()-o.valueOf()}),a==="dateAddedReversed"&&d.sort((t,e)=>{const n=new Date(t.dateAddedToList);return new Date(e.dateAddedToList).valueOf()-n.valueOf()})}function F(t){const e=[],n=new Date(t.deadline),o=new Date(t.dateAddedToList),s=n.getTime(),i=new Date().getTime(),f=s-i,b=Math.ceil(f/(1e3*60*60*24));e.push(String(b));const h=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`;e.push(h);const g=`${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()}`;return e.push(g),e}function Y(t){const e=Number(t);return e<=5&&e>0?" close-deadline":e<=0?" after-deadline":""}function _(t){const e=Number(t);return e===1||e===-1?`${e} day`:`${e} days`}function V(){const t=[],e=r.querySelector("ul"),n=document.querySelector("#browse");e.innerHTML="<li>> all categories <</li>",n.innerHTML="";for(let s=0;s<d.length;s++){const i=d[s];t.push(i.category)}t.sort((s,i)=>s<i?-1:1);const o=[...new Set(t)];for(let s=0;s<o.length;s++){const i=o[s];e.innerHTML+=`<li>> ${i} <</li>`,n.innerHTML+=`<option value="${i}">`}}function y(){I.innerHTML="",R();for(let t=0;t<d.length;t++){const e=d[t],n=j(e),o=F(e),s=Y(o[0]),i=_(o[0]);I.innerHTML+=`
    <article id="${t}" class="todo-item${n}${s}">

      <button>
        <span id="${t}" class="material-symbols-outlined check-item-btn">task_alt</span>
      </button>

      <p>${e.title}</p>

      <p class="deadline-date">Deadline: ${o[1]}</p>
      <p class="date-added-date">Date added: ${o[2]}</p>

      <div class="time-left">
        <span class="material-symbols-outlined">hourglass_empty</span>
        <span>${i}</span>
      </div>

      <button>
        <span id="${t}" class="material-symbols-outlined remove-item-btn">do_not_disturb_on</span>
      </button>
    
    </article>
    `}V(),x(),Q()}function P(t){const e=t.currentTarget,n=document.querySelector(".todo-item.open");if(n!==null){if(e.id===n.id){e.classList.toggle("open");return}n.classList.remove("open"),e.classList.add("open")}e.classList.add("open")}function J(t){const e=t.currentTarget,n=Number(e.id);d.splice(n,1),y()}function K(t){const e=t.currentTarget,n=Number(e.id),o=d[n];o.isChecked?o.isChecked=!1:o.isChecked=!0,y()}function j(t){return t.isChecked?" checked":""}function x(){const t=document.querySelectorAll(".todo-item"),e=document.querySelectorAll(".remove-item-btn"),n=document.querySelectorAll(".check-item-btn");for(let o=0;o<t.length;o++)t[o].addEventListener("click",P);for(let o=0;o<e.length;o++)e[o].addEventListener("click",J);for(let o=0;o<n.length;o++)n[o].addEventListener("click",K)}function z(){l==null||l.classList.remove("open"),u==null||u.setAttribute("disabled","true"),m.value="",p.value="",v.value=""}function G(){const t=m==null?void 0:m.value,e=p==null?void 0:p.value,n=new Date(v.value),o=new Date,s={title:t,category:e,deadline:n,dateAddedToList:o,isChecked:!1};d.push(s),z(),y()}function Q(){localStorage.setItem("data",JSON.stringify(d))}function U(){localStorage.getItem("data")!==null&&(d=JSON.parse(localStorage.getItem("data")))}S==null||S.addEventListener("click",M);T==null||T.addEventListener("click",M);A==null||A.addEventListener("click",M);m==null||m.addEventListener("blur",w);p==null||p.addEventListener("blur",w);v==null||v.addEventListener("change",w);u==null||u.addEventListener("click",G);H.addEventListener("click",$);O.addEventListener("click",$);B.addEventListener("click",$);U();y();
