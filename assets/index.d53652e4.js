(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const h=document.querySelector("#sorting-btn"),S=document.querySelector("#categories-btn"),T=document.querySelector("#add-btn"),d=document.querySelector(".sort-container"),c=document.querySelector(".add-item-container"),f=document.querySelector("#title-input"),m=document.querySelector("#category-input"),v=document.querySelector("#date-input"),l=document.querySelector("#add-item-btn");let A=!1,k=!1,g=!1;const O=document.querySelector("#sort-name-btn"),N=document.querySelector("#sort-deadline-btn"),H=document.querySelector("#sort-date-added-btn");let a="deadline",r=[];const I=document.querySelector("#todo-items-container");function q(t){const n=t.currentTarget.id;n==="sorting-btn"?(d==null||d.classList.toggle("open"),c!=null&&c.classList.contains("open")&&(c==null||c.classList.remove("open"))):n==="add-btn"&&(c==null||c.classList.toggle("open"),d!=null&&d.classList.contains("open")&&(d==null||d.classList.remove("open")))}function M(t){const e=t.currentTarget,n=e.value,o=e.parentElement.querySelector(".input-error");if(e.id==="date-input"){const i=new Date,u=i.getFullYear(),y=i.getMonth()+1,D=i.getDate(),p=n.split("-"),b=Number(p[0]),E=Number(p[1]),$=Number(p[2]);b>u&&b.toString().length===4||b===u&&E>y||b===u&&E===y&&$>=D?(g=!0,o.innerHTML=""):n?(g=!1,o.innerHTML="cannot be in the Past"):(g=!1,o.innerHTML="is Required")}e.id==="title-input"&&(n?(A=!0,o.innerHTML=""):(A=!1,o.innerHTML="is Required")),e.id==="category-input"&&(n?(k=!0,o.innerHTML=""):(k=!1,o.innerHTML="is Required")),A&&k&&g?l==null||l.removeAttribute("disabled"):l==null||l.setAttribute("disabled","true")}function w(t){const n=t.currentTarget.id;n==="sort-name-btn"&&(a==="name"?a="nameReversed":a="name"),n==="sort-deadline-btn"&&(a==="deadline"?a="deadlineReversed":a="deadline"),n==="sort-date-added-btn"&&(a==="dateAdded"?a="dateAddedReversed":a="dateAdded"),L(),d==null||d.classList.remove("open")}function B(){a==="name"&&r.sort((t,e)=>t.title<e.title?-1:1),a==="nameReversed"&&r.sort((t,e)=>t.title>e.title?-1:1),a==="deadline"&&r.sort((t,e)=>{const n=new Date(t.deadline),s=new Date(e.deadline);return n.valueOf()-s.valueOf()}),a==="deadlineReversed"&&r.sort((t,e)=>{const n=new Date(t.deadline);return new Date(e.deadline).valueOf()-n.valueOf()}),a==="dateAdded"&&r.sort((t,e)=>{const n=new Date(t.dateAddedToList),s=new Date(e.dateAddedToList);return n.valueOf()-s.valueOf()}),a==="dateAddedReversed"&&r.sort((t,e)=>{const n=new Date(t.dateAddedToList);return new Date(e.dateAddedToList).valueOf()-n.valueOf()})}function R(t){const e=[],n=new Date(t.deadline),s=new Date(t.dateAddedToList),o=n.getTime(),i=new Date().getTime(),u=o-i,y=Math.ceil(u/(1e3*60*60*24));e.push(String(y));const D=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`;e.push(D);const p=`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()}`;return e.push(p),e}function F(t){const e=Number(t);return e<=5&&e>0?" close-deadline":e<=0?" after-deadline":""}function L(){I.innerHTML="",B();for(let t=0;t<r.length;t++){const e=r[t],n=P(e),s=R(e),o=F(s[0]);I.innerHTML+=`
    <article id="${t}" class="todo-item${n}${o}">

      <button>
        <span id="${t}" class="material-symbols-outlined check-item-btn">task_alt</span>
      </button>

      <p>${e.title}</p>

      <p class="deadline-date">Deadline: ${s[1]}</p>
      <p class="date-added-date">Date added: ${s[2]}</p>

      <div class="time-left">
        <span class="material-symbols-outlined">hourglass_empty</span>
        <span>${s[0]}days</span>
      </div>

      <button>
        <span id="${t}" class="material-symbols-outlined remove-item-btn">do_not_disturb_on</span>
      </button>
    
    </article>
    `}J(),x()}function Y(t){const e=t.currentTarget,n=document.querySelector(".todo-item.open");if(n!==null){if(e.id===n.id){e.classList.toggle("open");return}n.classList.remove("open"),e.classList.add("open")}e.classList.add("open")}function _(t){const e=t.currentTarget,n=Number(e.id);r.splice(n,1),L()}function V(t){const e=t.currentTarget,n=Number(e.id),s=r[n];s.isChecked?s.isChecked=!1:s.isChecked=!0,L()}function P(t){return t.isChecked?" checked":""}function J(){const t=document.querySelectorAll(".todo-item"),e=document.querySelectorAll(".remove-item-btn"),n=document.querySelectorAll(".check-item-btn");for(let s=0;s<t.length;s++)t[s].addEventListener("click",Y);for(let s=0;s<e.length;s++)e[s].addEventListener("click",_);for(let s=0;s<n.length;s++)n[s].addEventListener("click",V)}function K(){c==null||c.classList.remove("open"),l==null||l.setAttribute("disabled","true"),f.value="",m.value="",v.value=""}function j(){const t=f==null?void 0:f.value,e=m==null?void 0:m.value,n=new Date(v.value),s=new Date,o={title:t,category:e,deadline:n,dateAddedToList:s,isChecked:!1};r.push(o),K(),L()}function x(){localStorage.setItem("data",JSON.stringify(r))}function z(){localStorage.getItem("data")!==null&&(r=JSON.parse(localStorage.getItem("data")))}h==null||h.addEventListener("click",q);S==null||S.addEventListener("click",q);T==null||T.addEventListener("click",q);f==null||f.addEventListener("blur",M);m==null||m.addEventListener("blur",M);v==null||v.addEventListener("change",M);l==null||l.addEventListener("click",j);O.addEventListener("click",w);N.addEventListener("click",w);H.addEventListener("click",w);z();L();
