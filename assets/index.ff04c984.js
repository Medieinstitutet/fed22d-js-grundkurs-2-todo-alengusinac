(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const q=document.querySelector("#sorting-btn"),M=document.querySelector("#categories-btn"),$=document.querySelector("#add-btn"),l=document.querySelector(".sort-container"),c=document.querySelector(".categories-container"),r=document.querySelector(".add-item-container"),g=document.querySelector("#title-input"),p=document.querySelector("#category-input"),h=document.querySelector("#date-input"),u=document.querySelector("#add-item-btn");let E=!1,w=!1,y=!1;const F=document.querySelector("#sort-name-btn"),R=document.querySelector("#sort-deadline-btn"),Y=document.querySelector("#sort-date-added-btn");let a="deadline",S="all categories",d=[],m=[];const O=document.querySelector("#todo-items-container");function I(t){const s=t.currentTarget.id;s==="sorting-btn"?(l==null||l.classList.toggle("open"),r!=null&&r.classList.contains("open")&&(r==null||r.classList.remove("open")),c!=null&&c.classList.contains("open")&&(c==null||c.classList.remove("open"))):s==="add-btn"?(r==null||r.classList.toggle("open"),l!=null&&l.classList.contains("open")&&(l==null||l.classList.remove("open")),c!=null&&c.classList.contains("open")&&(c==null||c.classList.remove("open"))):s==="categories-btn"&&(c==null||c.classList.toggle("open"),l!=null&&l.classList.contains("open")&&(l==null||l.classList.remove("open")),r!=null&&r.classList.contains("open")&&(r==null||r.classList.remove("open")))}function H(t){const e=t.currentTarget,s=e.value,n=e.parentElement.querySelector(".input-error");if(e.id==="date-input"){const i=new Date,f=i.getFullYear(),D=i.getMonth()+1,k=i.getDate(),b=s.split("-"),L=Number(b[0]),T=Number(b[1]),A=Number(b[2]);L>f&&L.toString().length===4||L===f&&T>D||L===f&&T===D&&A>=k?(y=!0,n.innerHTML=""):s?(y=!1,n.innerHTML="cannot be in the Past"):(y=!1,n.innerHTML="is Required")}e.id==="title-input"&&(s?(E=!0,n.innerHTML=""):(E=!1,n.innerHTML="is Required")),e.id==="category-input"&&(s?(w=!0,n.innerHTML=""):(w=!1,n.innerHTML="is Required")),E&&w&&y?u==null||u.removeAttribute("disabled"):u==null||u.setAttribute("disabled","true")}function N(t){const s=t.currentTarget.id;s==="sort-name-btn"&&(a==="name"?a="nameReversed":a="name"),s==="sort-deadline-btn"&&(a==="deadline"?a="deadlineReversed":a="deadline"),s==="sort-date-added-btn"&&(a==="dateAdded"?a="dateAddedReversed":a="dateAdded"),v(),l==null||l.classList.remove("open")}function _(){a==="name"&&d.sort((t,e)=>t.title<e.title?-1:1),a==="nameReversed"&&d.sort((t,e)=>e.title<t.title?-1:1),a==="deadline"&&d.sort((t,e)=>{const s=new Date(t.deadline),o=new Date(e.deadline);return s.valueOf()-o.valueOf()}),a==="deadlineReversed"&&d.sort((t,e)=>{const s=new Date(t.deadline);return new Date(e.deadline).valueOf()-s.valueOf()}),a==="dateAdded"&&d.sort((t,e)=>{const s=new Date(t.dateAddedToList),o=new Date(e.dateAddedToList);return s.valueOf()-o.valueOf()}),a==="dateAddedReversed"&&d.sort((t,e)=>{const s=new Date(t.dateAddedToList);return new Date(e.dateAddedToList).valueOf()-s.valueOf()})}function V(t){const e=[],s=new Date(t.deadline),o=new Date(t.dateAddedToList),n=s.getTime(),i=new Date().getTime(),f=n-i,D=Math.ceil(f/(1e3*60*60*24));e.push(String(D));const k=`0${s.getMonth()+1}`.slice(-2),b=`0${s.getDate()}`.slice(-2),L=`${s.getFullYear()}-${k}-${b}`;e.push(L);const T=`0${o.getMonth()+1}`.slice(-2),A=`0${s.getDate()}`.slice(-2),B=`${o.getFullYear()}-${T}-${A}`;return e.push(B),e}function x(t){const e=Number(t);return e<=5&&e>0?" close-deadline":e<=0?" after-deadline":""}function P(t){const e=Number(t);return e===1||e===-1?`${e} day`:`${e} days`}function J(){const t=[],e=c.querySelector("ul"),s=document.querySelector("#browse");e.innerHTML='<li>> <button class="category-btn">all categories</button> <</li>',s.innerHTML="";for(let n=0;n<d.length;n++){const i=d[n];t.push(i.category)}t.sort((n,i)=>n<i?-1:1);const o=[...new Set(t)];for(let n=0;n<o.length;n++){const i=o[n];e.innerHTML+=`<li>> <button class="category-btn">${i}</button> <</li>`,s.innerHTML+=`<option value="${i}">`}}function K(t){S=t.currentTarget.innerText,v(),c==null||c.classList.remove("open")}function j(){const t=document.querySelector("#category-title");if(S==="all categories"){m=d,t.innerHTML="all categories";return}m=d.filter(e=>e.category===S),t.innerHTML=S}function z(){for(let t=0;t<m.length;t++){const e=m.findIndex(s=>s.isChecked===!0);m.push(m.splice(e,1)[0])}}function v(){O.innerHTML="",_(),j(),z();for(let t=0;t<m.length;t++){const e=m[t],s=W(e),o=V(e),n=x(o[0]),i=P(o[0]);O.innerHTML+=`
    <article id="${t}" class="todo-item${s}${n}">

      <button>
        <span id="${t}" class="material-symbols-outlined check-item-btn">task_alt</span>
      </button>

      <p>${e.title}</p>

      <p class="deadline-date">Deadline: ${o[1]}</p>
      <p class="date-added-date">Date added: ${o[2]}</p>

      <div class="time-left">
        <span class="material-symbols-outlined">hourglass_empty</span>
        <span>${i}</span>
      </div>

      <button>
        <span id="${t}" class="material-symbols-outlined remove-item-btn">do_not_disturb_on</span>
      </button>
    
    </article>
    `}J(),X(),ee()}function G(t){const e=t.currentTarget,s=document.querySelector(".todo-item.open");if(s!==null){if(e.id===s.id){e.classList.toggle("open");return}s.classList.remove("open"),e.classList.add("open")}e.classList.add("open")}function Q(t){const e=t.currentTarget,s=Number(e.id);d.splice(s,1),v()}function U(t){const e=t.currentTarget,s=Number(e.id),o=m[s];o.isChecked?o.isChecked=!1:o.isChecked=!0,console.log(o.isChecked),v()}function W(t){return t.isChecked?" checked":""}function X(){const t=document.querySelectorAll(".todo-item"),e=document.querySelectorAll(".remove-item-btn"),s=document.querySelectorAll(".check-item-btn"),o=document.querySelectorAll(".category-btn");for(let n=0;n<t.length;n++)t[n].addEventListener("click",G);for(let n=0;n<e.length;n++)e[n].addEventListener("click",Q);for(let n=0;n<s.length;n++)s[n].addEventListener("click",U);for(let n=0;n<o.length;n++)o[n].addEventListener("click",K)}function Z(){r==null||r.classList.remove("open"),u==null||u.setAttribute("disabled","true"),g.value="",p.value="",h.value=""}function C(){const t=g==null?void 0:g.value,e=p==null?void 0:p.value,s=new Date(h.value),o=new Date,n={title:t,category:e,deadline:s,dateAddedToList:o,isChecked:!1};d.push(n),Z(),v()}function ee(){localStorage.setItem("data",JSON.stringify(d))}function te(){localStorage.getItem("data")!==null&&(d=JSON.parse(localStorage.getItem("data")))}q==null||q.addEventListener("click",I);M==null||M.addEventListener("click",I);$==null||$.addEventListener("click",I);g==null||g.addEventListener("blur",H);p==null||p.addEventListener("blur",H);h==null||h.addEventListener("change",H);u==null||u.addEventListener("click",C);F.addEventListener("click",N);R.addEventListener("click",N);Y.addEventListener("click",N);te();v();
